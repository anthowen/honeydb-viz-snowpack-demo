import { useQuery } from 'react-query'
import { csv } from 'd3-fetch'

const vulnerabilityCsv =
  'https://raw.githubusercontent.com/anthowen/anthowen/master/vulnerability.csv'

const getVulnerabilityData = async () => {
  const data = await csv(vulnerabilityCsv)

  return data
}

export default function useVulnerabilityCsv() {
  return useQuery<Array<Record<string, any>>, Error>(
    'vulnerability',
    getVulnerabilityData
  )
}
